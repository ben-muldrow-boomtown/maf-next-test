{"ast":null,"code":"var _jsxFileName = \"/Users/benjaminmuldrow/Code/maf-next-test/src/components/forms/index.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport ContactForm from './contact';\nimport OtherForm from './other';\nimport FormProvider, { FormContext } from './FormProvider';\n\nconst FormWrapper = () => {\n  // state for each attribute\n  const {\n    0: currentPage,\n    1: setCurrentPage\n  } = useState(0);\n  const {\n    0: valid,\n    1: setValid\n  } = useState(false); // all form components\n\n  const forms = [__jsx(ContactForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }), __jsx(OtherForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  })]; // handle paging between forms\n\n  const hasNextPage = currentPage < forms.length - 1;\n  const hasLastPage = currentPage > 0;\n\n  const nextPage = () => {\n    if (hasNextPage) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const lastPage = () => {\n    if (hasLastPage) {\n      setCurrentPage(currentPage - 1);\n    }\n  }; // render 1 form at a time\n\n\n  return __jsx(FormProvider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(FormContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, ({\n    dispatch,\n    state\n  }) => {\n    console.log('validity check on form', valid);\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.cloneElement(forms[currentPage], {\n      dispatch,\n      state,\n      setValid\n    }), __jsx(\"button\", {\n      disabled: !hasLastPage,\n      onClick: lastPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"last\"), __jsx(\"button\", {\n      disabled: !hasNextPage || !valid,\n      onClick: nextPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"next\"));\n  }));\n};\n\nexport default FormWrapper;","map":{"version":3,"sources":["/Users/benjaminmuldrow/Code/maf-next-test/src/components/forms/index.js"],"names":["React","useState","ContactForm","OtherForm","FormProvider","FormContext","FormWrapper","currentPage","setCurrentPage","valid","setValid","forms","hasNextPage","length","hasLastPage","nextPage","lastPage","dispatch","state","console","log","cloneElement"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,WAAxB;AACA,OAAOC,SAAP,MAAsB,SAAtB;AACA,OAAOC,YAAP,IAAuBC,WAAvB,QAA0C,gBAA1C;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACxB;AACA,QAAM;AAAA,OAACC,WAAD;AAAA,OAAcC;AAAd,MAAgCP,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM;AAAA,OAACQ,KAAD;AAAA,OAAQC;AAAR,MAAoBT,QAAQ,CAAC,KAAD,CAAlC,CAHwB,CAKxB;;AACA,QAAMU,KAAK,GAAG,CACZ,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADY,EAEZ,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFY,CAAd,CANwB,CAWxB;;AACA,QAAMC,WAAW,GAAGL,WAAW,GAAGI,KAAK,CAACE,MAAN,GAAe,CAAjD;AACA,QAAMC,WAAW,GAAGP,WAAW,GAAG,CAAlC;;AACA,QAAMQ,QAAQ,GAAG,MAAM;AACrB,QAAIH,WAAJ,EAAiB;AACfJ,MAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AAED;AACF,GALD;;AAMA,QAAMS,QAAQ,GAAG,MAAM;AACrB,QAAIF,WAAJ,EAAiB;AACfN,MAAAA,cAAc,CAACD,WAAW,GAAG,CAAf,CAAd;AACD;AACF,GAJD,CApBwB,CA0BxB;;;AACA,SACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEG,CAAC;AAACU,IAAAA,QAAD;AAAWC,IAAAA;AAAX,GAAD,KAAuB;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAuCX,KAAvC;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGT,KAAK,CAACqB,YAAN,CAAmBV,KAAK,CAACJ,WAAD,CAAxB,EAAuC;AAAEU,MAAAA,QAAF;AAAYC,MAAAA,KAAZ;AAAmBR,MAAAA;AAAnB,KAAvC,CADH,EAEE;AAAQ,MAAA,QAAQ,EAAE,CAACI,WAAnB;AAAgC,MAAA,OAAO,EAAEE,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE;AAAQ,MAAA,QAAQ,EAAE,CAACJ,WAAD,IAAgB,CAACH,KAAnC;AAA0C,MAAA,OAAO,EAAEM,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADF;AAOC,GAXL,CADF,CADF;AAkBD,CA7CD;;AA+CA,eAAeT,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport ContactForm from './contact';\nimport OtherForm from './other';\nimport FormProvider, { FormContext } from './FormProvider';\n\nconst FormWrapper = () => {\n  // state for each attribute\n  const [currentPage, setCurrentPage] = useState(0);\n  const [valid, setValid] = useState(false);\n\n  // all form components\n  const forms = [\n    <ContactForm />,\n    <OtherForm />\n  ];\n\n  // handle paging between forms\n  const hasNextPage = currentPage < forms.length - 1;\n  const hasLastPage = currentPage > 0;\n  const nextPage = () => {\n    if (hasNextPage) {\n      setCurrentPage(currentPage + 1);\n      \n    }\n  }\n  const lastPage = () => {\n    if (hasLastPage) {\n      setCurrentPage(currentPage - 1)\n    }\n  }\n\n  // render 1 form at a time\n  return (\n    <FormProvider>\n      <FormContext.Consumer>\n        {/* attach dispatch and state to the dynamic 'current page' form via React Cloning */}\n        {({dispatch, state}) => {\n          console.log('validity check on form',  valid);\n          return (\n            <div>\n              {React.cloneElement(forms[currentPage], { dispatch, state, setValid })}\n              <button disabled={!hasLastPage} onClick={lastPage}>last</button>\n              <button disabled={!hasNextPage || !valid} onClick={nextPage}>next</button>\n            </div>\n            );\n          }\n        }\n      </FormContext.Consumer>\n    </FormProvider>\n  );\n}\n\nexport default FormWrapper;\n"]},"metadata":{},"sourceType":"module"}