{"version":3,"file":"static/webpack/static/development/pages/form.js.44fff53f9cf9829dbc29.hot-update.js","sources":["webpack:///./components/forms/index.js","webpack:///./components/forms/other/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ContactForm from './contact';\nimport OtherForm from './other';\nimport FormProvider, { FormContext } from './FormProvider';\n\nconst FormWrapper = () => {\n  // state for each attribute\n  const [currentPage, setCurrentPage] = useState(0);\n\n  // all form components\n  const forms = [\n    <ContactForm />,\n    <OtherForm />\n  ];\n\n  // handle paging between forms\n  const hasNextPage = currentPage < forms.length - 1;\n  const hasLastPage = currentPage > 0;\n  const nextPage = () => {\n    if (hasNextPage) {\n      setCurrentPage(currentPage + 1);\n      \n    }\n  }\n  const lastPage = () => {\n    if (hasLastPage) {\n      setCurrentPage(currentPage - 1)\n    }\n  }\n\n  // render 1 form at a time\n  return (\n    <FormProvider>\n      <FormContext.Consumer>\n        {/* attach dispatch and state to the dynamic 'current page' form via React Cloning */}\n        {({dispatch, state}) => {\n          return (\n            <div>\n              {React.cloneElement(forms[currentPage], { dispatch, state })}\n              <button disabled={!hasLastPage} onClick={lastPage}>last</button>\n              <button disabled={!hasNextPage && !state.validForms[currentPage]} onClick={nextPage}>next</button>\n            </div>\n            );\n          }\n        }\n      </FormContext.Consumer>\n    </FormProvider>\n  );\n}\n\nexport default FormWrapper;\n","import React, { useRef } from 'react';\n\nconst OtherForm = (props) => {\n  const { dispatch, pageNumber } = props;\n  const foodRef = useRef(null);\n\n  const updateField = (dispatch, e) => {\n    dispatch({\n      type: e.target.id,\n      payload: {\n        key: e.target.id,\n        value: e.target.value\n      }\n    });\n  }\n\n  // simple validation\n  const updateValidation = () => {\n    if (fullNameRef.current.value && phoneRef.current.value && emailRef.current.value) {\n      dispatch({\n        type: 'validation',\n        payload: {\n          pageNumber,\n          valid: true\n        }\n      })\n    } else {\n      dispatch({\n        type: 'validation',\n        payload: {\n          pageNumber,\n          valid: false\n        }\n      })\n    }\n  }\n\n  const onChange = (e) => {\n    updateField(dispatch, e);\n    updateValidation();\n  }\n\n\n  return (\n    <div>\n      <select\n        id=\"food\"\n        placeholder=\"select one\"\n        onChange={onChange}\n        ref={foodRef}\n      >\n        <option value=\"hot dog\" />\n        <option value=\"sando\" />\n      </select>\n    </div>\n  )\n}\n\nexport default OtherForm;\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}